!function(t){"use strict";function n(t){return this.url=t,this.callbacks={onOpen:[],onClosed:[],error:[],retry:[]},this}function e(t){var e;return t?e=new n(t):o.length>0&&o[0]&&(e=o[0]),e}var o=[],s={.8:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:{open:void 0,closed:void 0},message:t.status,trigger_person:void 0}}},.9:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:{open:void 0,closed:void 0},message:t.status,trigger_person:void 0}}},.11:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:t.icon,message:t.status,trigger_person:void 0}}},.12:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:t.icon,message:t.status,trigger_person:void 0}}},.13:function(t){return t}};n.prototype.resolve=function(){var t=this;(function(){return new Promise(function(n,e){var o=new XMLHttpRequest;o.addEventListener("load",function(){n(this.response)}),o.addEventListener("error",function(){e(this.statusText,this.status)}),o.addEventListener("abort",function(){e(this.statusText,this.status)}),o.open("GET",t.url),t.callbacks.retry.forEach(function(t){setTimeout(function(){t()},0)}),o.send()})})().then(function(n){var e="object"==typeof n?n:JSON.parse(n),o=s[e.api](e);console.log(o),o.state.open?t.callbacks.onOpen.forEach(function(t){setTimeout(function(){t(o)},0)}):t.callbacks.onClosed.forEach(function(t){setTimeout(function(){t(o)},0)})})["catch"](function(n,e){t.callbacks.error.forEach(function(t){t(n,e),setTimeout(function(){t(n,e)},0)})})},n.prototype.onOpen=function(t){return this.callbacks.onOpen.push(t),this},n.prototype.onClosed=function(t){return this.callbacks.onClosed.push(t),this},n.prototype.error=function(t){return this.callbacks.error.push(t),this},n.prototype.retry=function(t){return this.callbacks.retry.push(t),this},n.prototype.start=function(t){return this.timer&&this.stop(),this.resolve(),this.timer=setInterval(this.resolve.bind(this),t),o.push(this),this},n.prototype.stop=function(){return this.timer&&(clearInterval(this.timer),delete this.timer),this},n.prototype.stopAll=function(){return o.forEach(function(t){clearInterval(t.timer),t=void 0}),this},n.prototype.getInitialized=function(){return o},t.HSIndicator=e}(window);