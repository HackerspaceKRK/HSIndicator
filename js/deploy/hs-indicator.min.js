!function(t,e){"use strict";function n(t){return this.url=t,this.callbacks={onOpen:[],onClosed:[],error:[],retry:[]},this}function o(t){var e;return t?e=new n(t):r.length>0&&r[0]&&(e=r[0]),e}var r=[],s={.8:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:{open:void 0,closed:void 0},message:t.status,trigger_person:void 0}}},.9:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:{open:void 0,closed:void 0},message:t.status,trigger_person:void 0}}},.11:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:t.icon,message:t.status,trigger_person:void 0}}},.12:function(t){return{state:{open:t.open,lastchange:t.lastchange,icon:t.icon,message:t.status,trigger_person:void 0}}},.13:function(t){return t}};n.prototype.resolve=function(){var t=this;e.ajax({type:"GET",url:this.url,beforeSend:function(){e.each(t.callbacks.retry,function(t){t()})}}).done(function(n){console.log(n);var o=s[n.api](n);o.state.open?e.each(t.callbacks.onOpen,function(t){t(o)}):e.each(t.callbacks.onClosed,function(t){t(o)})}).fail(function(n,o,r){e.each(t.callbacks.error,function(t){t(o,r)})})},n.prototype.onOpen=function(t){return this.callbacks.onOpen.push(t),this},n.prototype.onClosed=function(t){return this.callbacks.onClosed.push(t),this},n.prototype.error=function(t){return this.callbacks.error.push(t),this},n.prototype.retry=function(t){return this.callbacks.retry.push(t),this},n.prototype.start=function(t){return this.timer&&this.stop(),this.resolve(),this.timer=setInterval(this.resolve.bind(this),t),r.push(this),this},n.prototype.stop=function(){return this.timer&&(clearInterval(this.timer),delete this.timer),this},n.prototype.stopAll=function(){return e.each(r,function(t){clearInterval(t.timer),t=void 0}),this},n.prototype.getInitialized=function(){return r},t.HSIndicator=o}(window,jQuery);